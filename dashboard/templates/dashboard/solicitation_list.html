{% extends 'dashboard/dashboard.html' %}

{% block item %}
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Instituição</th>
        <th scope="col">Nome do usuário</th>
        <th scope="col">Mensagem</th>
        <th scope="col">Ação</th>
      </tr>
    </thead>
    <tbody>
      {% for solicitation in solicitations %} {# Loop na lista de solicitações #}
        <tr id="{{solicitation.id}}">
          <td scope="row">{{solicitation.user.profile.institution|truncatechars_html:20}}</td>
          <td>{{solicitation.user.profile.name|truncatechars_html:30}}</td>
          <td>{{solicitation.message|truncatechars_html:50}}</td>
          <td><a href="{% url 'dashboard:solicitation_update' solicitation.id %}" class="btn btn-secondary" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Visualizar solicitação"><i class="fa fa-eye" aria-hidden="true"></i></a></td>
        </tr>
      {% empty %}
        <div class="alert alert-warning" role="alert">
          Nenhuma solicitação para analisar no momento.
        </div>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}